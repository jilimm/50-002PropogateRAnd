integrating comparator

**not sure if it works*
